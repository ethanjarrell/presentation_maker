<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>The Talk Maker</title>
  <link rel="stylesheet" href="/home2.css">
  <link href="https://fonts.googleapis.com/css?family=Volkhov" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script>
function allowDrop(ev) {
    ev.preventDefault();
}

function drag(ev) {
    ev.dataTransfer.setData("text", ev.target.id);
}

function drop(ev) {
    ev.preventDefault();
    var data = ev.dataTransfer.getData("text");
    ev.target.appendChild(document.getElementById(data));
}
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.5/jspdf.debug.js">
</script>
<script type="text/javascript">
  $(document).ready(function(){
    $('div.listItem').each(function(){
      let str = $(this).text();
      if(str.length < 1){
        $(this).parent().hide();
      }
    })
  });
</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script type="text/javascript" src="https://code.jquery.com/ui/1.12.0-beta.1/jquery-ui.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.1.135/jspdf.min.js"></script>
<script type="text/javascript" src="http://cdn.uriit.ru/jsPDF/libs/adler32cs.js/adler32cs.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2014-11-29/FileSaver.min.js
"></script>
<script type="text/javascript" src="libs/Blob.js/BlobBuilder.js"></script>
<script type="text/javascript" src="http://cdn.immex1.com/js/jspdf/plugins/jspdf.plugin.addimage.js"></script>
<script type="text/javascript" src="http://cdn.immex1.com/js/jspdf/plugins/jspdf.plugin.standard_fonts_metrics.js"></script>
<script type="text/javascript" src="http://cdn.immex1.com/js/jspdf/plugins/jspdf.plugin.split_text_to_size.js"></script>
<script type="text/javascript" src="http://cdn.immex1.com/js/jspdf/plugins/jspdf.plugin.from_html.js"></script>
<script type="text/javascript" src="js/basic.js"></script>
    <script>
    $(function () {

  var specialElementHandlers = {
      '#editor': function (element,renderer) {
          return true;
      }
  };
$('#cmd').click(function () {
      var doc = new jsPDF();
      doc.fromHTML($('#target').html(), 15, 15, {
          'width': 170,'elementHandlers': specialElementHandlers
      });
      doc.save('{{#talktopics}}{{talk_name}}{{/talktopics}}.pdf');
  });
});
    </script>

</head>
<body>
  <div class="navbar">
  <a class="link" href="/mytalks">home</a>
  <a class="link" href="/createp1">new</a>
  <a class="link" href="/saved">saved</a>
  <a class="link2" href="/completed">completed</a>
  <a class="link" href="/shared">shared</a>
  <a class="link" href="/account">account</a>
  <a class="link" href="/logout">logout</a>
  </div>
<div class="buttongencontainer">
<button id="cmd">generate PDF</button>
</div>
<div id="target">
  <h1>Brainstorm & Notes</h1>
  {{#talktopics}}<div class="labelContainer3"><label class="labelContainer2">{{talk_name}}</label></div>
  <div class="title">{{talk_topic}}</div>{{/talktopics}}
    {{#talks}}<div class="talkContainer">

      <div class="outerSectionContainer"  >

      <div class="sectionContainer">
      <div class="topicContainer" >
        <div class="listTitle">Scriptures & Quotes</div>
        <div class="listItem">{{brainstorm1}}</div>
        <div class="listTitle">Spiritual Impressions</div>
        <div class="listItem">{{brainstorm2}}</div>
        <div class="listTitle">Other Thoughts</div>
        <div class="listItem">{{brainstorm3}}</div>
        <div class="listTitle">Notepad</div>
        <div class="listItem">{{notepad}}</div>
</div>
</div>
</div>
  {{/talks}}
</div>
</body>

</html>
